---
import BaseLayout from '../layouts/BaseLayout.astro'
import SimpleSubscriptionForm from '../components/SimpleSubscriptionForm.astro'
import { getFeaturedNewsletter } from '../lib/newsletter-utils'

const featuredNewsletter = await getFeaturedNewsletter()
---

<BaseLayout title="Puro Suco Newsletter - Tech, Design e Desenvolvimento">
  <main class="container max-w-md mx-auto px-6">
    <header class="min-h-dvh flex items-center justify-center">
      <div class="flex flex-col gap-6">
        <div class="flex items-center animate-fade-in-blur animate-delay-100">
          <img src="/logo.svg" alt="Logo Puro Suco" class="w-11 h-11" />
        </div>
        <h1
          class="text-4xl md:text-5xl text-gray-900 font-serif leading-tight animate-fade-in-blur animate-delay-200"
        >
          Chegou o Puro Suco das notícias tech!
        </h1>
        <h2
          class="text-md md:text-xl leading-normal text-gray-700 animate-fade-in-blur animate-delay-300"
        >
          Toda segunda-feira, apenas as notícias de desenvolvimento e design que realmente importam,
          direto ao ponto.
        </h2>
        <div class="animate-fade-in-blur animate-delay-400">
          <SimpleSubscriptionForm />
        </div>
        <div class="text-md text-gray-700 animate-fade-in-blur animate-delay-500">
          Veja uma amostra do nosso conteúdo <a
            href={featuredNewsletter ? `/newsletters/${featuredNewsletter.slug}` : '/newsletters'}
            class="text-amber-500 hover:text-amber-400 underline transition-colors">aqui</a
          >
        </div>
      </div>
    </header>
  </main>

  <!-- Footer -->
  <footer class="md:absolute inset-x-0 bottom-0 w-full">
    <div
      class="container max-w-md mx-auto px-6 py-4 md:pt-12 md:pb-8 border-t border-gray-200 animate-fade-in-blur animate-delay-600"
    >
      <p class="text-gray-700 mb-2">
        Curado por <a
          href="https://marxz.me"
          target="_blank"
          class="text-amber-500 hover:text-amber-400 underline transition-colors">@sammarxz</a
        >
      </p>
      <p class="text-gray-500 text-sm">
        Dev & Designer que já passou pela dor de filtrar notícias tech
      </p>
    </div>
  </footer>
</BaseLayout>
